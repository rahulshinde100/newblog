<html>
<body>
<center>
	<h1>Category Wise Posts</h1>	
<table border="2" cellpadding="10" cellspacing="0" class="listing" summary="Post list" border=2>
  <thead>
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th>Category</th>
      <th>Comment</th>
       <th>Show Comments</th>
  </tr>
 </thead>
<% @post.each do |post| %>
	<tr>
	<td><%=link_to post.title , postwisesearch_post_path(post.id) %> </td>
	<td><%= post.description %> </td>
	<td><%= post.category.title %> </td>
	 <td><%= link_to 'Comment', post %></td>
	<td> <%= link_to "Show Comments",  post_comments_path(post)   %></td>
</tr>
<% end %>
</table>



<br>
<%= link_to 'Home', posts_path %>

<br><br>

<%= link_to 'New Post', new_post_path %> <br><br>

<%= link_to 'Back', categories_path %>

<br><br>

<%##############################Show Category Wise ####################################%>



<% @post.each do |post| %>
   
  <div id="showpost">
    <%= post.user.email %>
<% if user_signed_in?  %>
      <%if post.user.id == current_user.id  %>

   <%= link_to 'Post Delete', post, method: :delete, data: { confirm: 'Are you sure?' }  rescue "" %>

      <% end %>
      <% end %>
     <p id ="showtitle">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<%= post.title %></p>
     <p id="showdescription"><%= post.description %></p>
     
         
            <p id= "catid"> Category:-<%=link_to post.category.title , rahulcategory_post_path(post.category.id) rescue ""  %> </p>


              <p id="tagid" > Tags:- <% post.tags.each do |tag| %>
              <%=link_to tag.tag_title , tagwisesearch_post_path(tag.id) %> ,
          <% end %></p>

     
      <% @com=post.comments %>
        
     
     <% @com.each do |c| %>
      <p id ="commentid">  <%= link_to 'x', c, method: :delete, data: { confirm: 'Are you sure?' } %> <%= c.user.email %>:- <%= c.comment_string %><br></p>
     <% end %>
      <%#= render :partial => @post %>
      <%#= render :partial => @post %>

      <%#= render 'comments/form' %>


       <%= form_for @comment , url: comments_path , method: 'post' do |f| %>
    <%= f.label "Comment" %>
    <%= f.text_area :comment_string , :placeholder=>'Enter the Comment' , required: true , :id => "comment" %><br><br>
    <%= f.hidden_field :post_id , value: post.id %>


    
      

    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<%= f.submit "Comment" %><br><br>
      <% end %>


  </div>
   <% end %>



<%##################################################################%>



</center>
</body>
</html>